(function(b){b.noty=function(d,e){var a={},c=null,g=!1;a.init=function(c){a.options=b.extend({},b.noty.defaultOptions,c);a.options.type=a.options.cssPrefix+a.options.type;a.options.id=a.options.type+"_"+(new Date).getTime();a.options.layout=a.options.cssPrefix+"layout_"+a.options.layout;a.options.custom.container&&(e=a.options.custom.container);g="object"===b.type(e)?!0:!1;return a.addQueue()};a.addQueue=function(){var c=-1==b.inArray(a.options.layout,b.noty.growls)?!1:!0;c||(a.options.force?b.noty.queue.unshift({options:a.options}):
b.noty.queue.push({options:a.options}));return a.render(c)};a.render=function(d){var f=g?e.addClass(a.options.theme+" "+a.options.layout+" noty_custom_container"):b("body");if(d)0==b("ul.noty_cont."+a.options.layout).length&&f.prepend(b("<ul/>").addClass("noty_cont "+a.options.layout)),f=b("ul.noty_cont."+a.options.layout);else if(b.noty.available){var h=b.noty.queue.shift();if("object"===b.type(h))b.noty.available=!1,a.options=h.options;else return b.noty.available=!0,a.options.id}else return a.options.id;
a.container=f;a.bar=b('<div class="noty_bar"/>').attr("id",a.options.id).addClass(a.options.theme+" "+a.options.layout+" "+a.options.type);c=a.bar;c.append(a.options.template).find(".noty_text").html(a.options.text);c.data("noty_options",a.options);a.options.closeButton?c.addClass("noty_closable").find(".noty_close").show():c.find(".noty_close").remove();c.find(".noty_close").bind("click",function(){c.trigger("noty.close")});a.options.buttons&&(a.options.closeOnSelfClick=a.options.closeOnSelfOver=
!1);a.options.closeOnSelfClick&&c.bind("click",function(){c.trigger("noty.close")}).css("cursor","pointer");a.options.closeOnSelfOver&&c.bind("mouseover",function(){c.trigger("noty.close")}).css("cursor","pointer");a.options.buttons&&($buttons=b("<div/>").addClass("noty_buttons"),c.find(".noty_message").append($buttons),b.each(a.options.buttons,function(a,d){bclass=d.type?d.type:"gray";$button=b("<button/>").addClass(bclass).html(d.text).appendTo(c.find(".noty_buttons")).bind("click",function(){b.isFunction(d.click)&&
d.click.call($button,c)})}));return a.show(d)};a.show=function(d){a.options.modal&&b("<div/>").addClass("noty_modal").addClass(a.options.theme).prependTo(b("body")).fadeIn("fast");c.close=function(){return this.trigger("noty.close")};d?a.container.prepend(b("<li/>").append(c)):a.container.prepend(c);"noty_layout_topCenter"!=a.options.layout&&"noty_layout_center"!=a.options.layout||b.noty.reCenter(c);c.bind("noty.setText",function(d,e){c.find(".noty_text").html(e);"noty_layout_topCenter"!=a.options.layout&&
"noty_layout_center"!=a.options.layout||b.noty.reCenter(c)});c.bind("noty.setType",function(d,e){c.removeClass(c.data("noty_options").type);e=c.data("noty_options").cssPrefix+e;c.data("noty_options").type=e;c.addClass(e);"noty_layout_topCenter"!=a.options.layout&&"noty_layout_center"!=a.options.layout||b.noty.reCenter(c)});c.bind("noty.getId",function(a){return c.data("noty_options").id});c.one("noty.close",function(d){d=c.data("noty_options");if(d.onClose)d.onClose();d.modal&&b(".noty_modal").fadeOut("fast",
function(){b(this).remove()});c.clearQueue().stop().animate(c.data("noty_options").animateClose,c.data("noty_options").speed,c.data("noty_options").easing,c.data("noty_options").onClosed).promise().done(function(){-1<b.inArray(c.data("noty_options").layout,b.noty.growls)?c.parent().remove():(c.remove(),b.noty.available=!0,a.render(!1))})});if(a.options.onShow)a.options.onShow();c.animate(a.options.animateOpen,a.options.speed,a.options.easing,a.options.onShown);a.options.timeout&&c.delay(a.options.timeout).promise().done(function(){c.trigger("noty.close")});
return a.options.id};return a.init(d)};b.noty.get=function(d){return b("#"+d)};b.noty.close=function(d){for(var e=0;e<b.noty.queue.length;)b.noty.queue[e].options.id==d?b.noty.queue.splice(d,1):e++;b.noty.get(d).trigger("noty.close")};b.noty.setText=function(d,e){b.noty.get(d).trigger("noty.setText",e)};b.noty.setType=function(d,e){b.noty.get(d).trigger("noty.setType",e)};b.noty.closeAll=function(){b.noty.clearQueue();b(".noty_bar").trigger("noty.close")};b.noty.reCenter=function(d){d.css({left:(b(window).width()-
d.outerWidth())/2+"px"})};b.noty.clearQueue=function(){b.noty.queue=[]};var k=window.alert;b.noty.consumeAlert=function(d){window.alert=function(e){d?d.text=e:d={text:e};b.noty(d)}};b.noty.stopConsumeAlert=function(){window.alert=k};b.noty.queue=[];b.noty.growls=["noty_layout_topLeft","noty_layout_topRight","noty_layout_bottomLeft","noty_layout_bottomRight"];b.noty.available=!0;b.noty.defaultOptions={layout:"top",theme:"noty_theme_default",animateOpen:{height:"toggle"},animateClose:{height:"toggle"},
easing:"swing",text:"",type:"alert",speed:500,timeout:5E3,closeButton:!1,closeOnSelfClick:!0,closeOnSelfOver:!1,force:!1,onShow:!1,onShown:!1,onClose:!1,onClosed:!1,buttons:!1,modal:!1,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',cssPrefix:"noty_",custom:{container:null}};b.fn.noty=function(d){return this.each(function(){new b.noty(d,b(this))})}})(jQuery);function noty(b){return jQuery.noty(b)};
